%% 2014-09-26
%% agoramachina
%% Loads and plots EEG data

%% Initialization
clear ; close all; clc

%% Load EEG data
printf("loading EEG data...\n");
EEGdata = csvread('data.csv');
EEGdata = EEGdata(2:end,:);

%% Feature Scaling
for i = 1:17
	EEGnorm(:,i) = (EEGdata(:,i) - min(EEGdata(:,i))) / (max(EEGdata(:,i) - min(EEGdata(:,i))));
end

%% Set variables
printf("setting variables...\n");
timestampMs = EEGdata(:,1); 
poorSignal = EEGdata(:,2); 
eegRawValue = EEGdata(:,3); 
eegRawValueVolts = EEGdata(:,4); 
attention = EEGdata(:,5); 
meditation = EEGdata(:,6); 
blinkStrength = EEGdata(:,7); 
delta = EEGdata(:,8); 
theta = EEGdata(:,9); 
alphaLow = EEGdata(:,10); 
alphaHigh = EEGdata(:,11); 
betaLow = EEGdata(:,12); 
betaHigh = EEGdata(:,13); 
gammaLow = EEGdata(:,14); 
gammaMid = EEGdata(:,15); 

%tagEvent = EEGdata(:,16); 
%location = [lat,long] = EEGdata(:,17); 

%% Define colors
red = [1,0,0];
orange = [1,.5,0];
yellow = [1,1,0];
green = [.5,1,0];
cyan = [0,1,1];
blue = [0,0,1];
purple = [.5,0,1];
pink = [1,0,1];

%% Plot data
x = timestampMs - 1411778000000;

%% Plot EEG raw value
plot(eegRawValue);  
xlimits = xlim([1, 1000]);
title('EEG Raw Value'); 
xlabel('Time');
figure;

%% Plot Attention and Meditation
plot(attention, "g", meditation, "b");
title('Focus');
xlabel('Time');
legend('Attention', 'Meditation', "show");
figure();

%% Plot all brainwaves
semilogy(x, gammaMid, 'color', [1,0,0], "linewidth", 1.25, 
	x, gammaLow, 'color', [1,.5,0], "linewidth", 1.25, 
	x, betaHigh, 'color', [1,1,0], "linewidth", 1.25,
	x, betaLow, 'color', [.5,1,0], "linewidth", 1.25,
	x, alphaHigh, 'color', [0,1,1],"linewidth", 1.25,
	x, alphaLow, 'color', [0,0,1], "linewidth", 1.25,
	x, theta, 'color', [.5 0 1], "linewidth", 1.25, 
	x, delta, 'color', [1,0,1], "linewidth", 1.25);
legend('gammaMid', 'gammaLow', 'betaHigh', 'betaLow', 'alphaHigh', 'alphaLow', 'theta', 'delta');
legend location eastoutside;
title('Brainwaves'); 
xlabel('Time');
ylabel('Activity');

